# Test overrides for offline environments
# Explicitly disable Dev Services to avoid Docker pulls
quarkus.datasource.devservices.enabled=false

# Enable ORM and Flyway
quarkus.hibernate-orm.active=true
quarkus.flyway.migrate-at-start=true
quarkus.flyway.clean-disabled=false
quarkus.flyway.locations=classpath:db/migration

# Database connection (Embedded PostgreSQL)
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5433/postgres
quarkus.datasource.username=postgres
quarkus.datasource.password=postgres

# Embedded Postgres Configuration
# Increasing timeout to avoid "Gave up waiting for server to start" errors
quarkus.embedded.postgresql.startup.wait=60000
quarkus.embedded.postgresql.data.dir=${project.build.directory}/embedded-pg-data
quarkus.embedded.postgresql.port=5433

# Mailer should not send real emails during tests
quarkus.mailer.mock=true

# Use a random HTTP port for tests
quarkus.http.test-port=0

# Reduce log noise in tests
quarkus.log.level=INFO
quarkus.log.category."azar".level=INFO